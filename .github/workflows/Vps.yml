name: Free VPS with Auto Save

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      # üîÑ RESTORE VPS DATA
      - name: Restore VPS cache
        uses: actions/cache@v4
        with:
          path: /home/runner/vps
          key: vps-cache
          restore-keys: vps-cache

      # ‚ñ∂Ô∏è RUN VPS
      - name: Run VPS
        run: |
          mkdir -p /home/runner/vps
          curl -sSf https://sshx.io/get | sh -s run

      # üíæ SAVE VPS DATA
      - name: Save VPS cache
        uses: actions/cache@v4
        with:
          path: /home/runner/vps
          key: vps-cache
